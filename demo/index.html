<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Stilt.js demo</title>
	<link rel="stylesheet" href="demo.css">
	<!-- Include respond.js to make sure the media queries work in IE8(-) -->
	<!--[if lt IE 9]>
	<script src="lib/respond.min.js"></script>
	<script src="lib/nwmatcher.min.js"></script>
	<script src="lib/selectivizr.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="dynamic-scaler">
		<div class="container">
			<h1>Stilt.js demo</h1>
			<p><button id="toggle-sync" data-label="Start all syncing">Stop all syncing</button></p>
			<div id="demo-1">
				<h2>Regular syncing</h2>
				<div class="row">
					<div class="col col-4">
						<p>I am a small column.</p>
					</div>
					<div class="col col-4">
						<p>I am a column with a lot of text.</p>
						<p>Nullam id dolor id nibh ultricies vehicula ut id elit. Nulla vitae elit libero, a pharetra augue. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Sed posuere consectetur est at lobortis.</p>
					</div>
					<div class="col col-4">
						<p>I am a small column.</p>
					</div>
					<div class="col col-4">
						<p>I am a small column.</p>
					</div>
				</div>
			</div>
			<div id="demo-2">
				<h2>Reference syncing</h2>
				<div class="ref">I am a reference element with a 99px height.</div>
				<div class="row">
					<div class="col col-2">I am synced to the reference element.</div>
					<div class="col col-2">I am synced to the reference element.</div>
				</div>
			</div>
			<p><a href="https://github.com/flovan/stilt">&larr; Back to the Github project</a></p>
		</div>
	</div>
	<script src="../stilt.js"></script>
	<script>
		var syncedCols = new Stilt('#demo-1 .col', {
			minWidth: 600
		}).sync();

		var refCols = new Stilt('#demo-2 .col', {
			referenceElm: '#demo-2 .ref'
		}).sync();

		// Set up sync toggle
		var toggle = document.getElementById('toggle-sync'),
			isSyncing = true;

		try {
			toggle.addEventListener('click', toggleCallback);
		} catch (e) {
			toggle.attachEvent('onclick', toggleCallback);
		}

		function toggleCallback (e) {
			var nextLabel = toggle.getAttribute('data-label');
			toggle.setAttribute('data-label', toggle.innerHTML);
			toggle.innerHTML = nextLabel;

			if (isSyncing) {
				syncedCols.release();
				refCols.release();
				isSyncing = false;
			} else {
				syncedCols.sync();
				refCols.sync();
				isSyncing = true;
			}
		}
	</script>
</body>
</html>